# preamble
# utils
function timestamp () {
  echo $(($(gdate +%s%N)/1000000))
}
function P () {
  $@ && return $? # comment out to enable profiling

  local _START=$(timestamp)
  $@
  local elapsed=$(expr $(timestamp) - $_START)
  local from_start=$(expr $(timestamp) - $DOTFILES_START)
  echo '`'"$@"'`'" $elapsed +$from_start"
}
alias _p=P

export DOTFILES_START=$(timestamp)
